<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<AnchorPane xmlns="http://javafx.com/javafx/11.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="it.polimi.ingsw.view.GUI.BuildController"
            prefHeight="800.0" prefWidth="1400.0"
            style="-fx-background-color: linear-gradient(to bottom, #0a0a1a, #1a1a2a);">

    <!-- Container principale diviso in due parti -->
    <HBox spacing="0"
          AnchorPane.topAnchor="0.0"
          AnchorPane.bottomAnchor="40.0"
          AnchorPane.leftAnchor="0.0"
          AnchorPane.rightAnchor="0.0">

        <!-- PANNELLO SINISTRO: Componenti disponibili -->
        <VBox style="-fx-background-color: linear-gradient(to bottom, #1a1a2e, #16213e); -fx-padding: 20;"
              spacing="15.0"
              HBox.hgrow="ALWAYS">

            <!-- Titolo sezione componenti -->
            <Label text="Componenti Disponibili"
                   style="-fx-text-fill: #4a9eff; -fx-font-size: 22px; -fx-font-weight: bold;">
                <font>
                    <Font name="System Bold" size="22.0" />
                </font>
            </Label>

            <!-- Container per tutti i componenti coperti -->
            <ScrollPane prefHeight="600.0"
                        style="-fx-background: transparent; -fx-background-color: transparent;"
                        hbarPolicy="NEVER" vbarPolicy="AS_NEEDED"
                        VBox.vgrow="ALWAYS">
                <VBox spacing="10.0" style="-fx-padding: 10;">

                    <!-- Griglia di componenti coperti -->
                    <FlowPane fx:id="componentsFlowPane"
                              hgap="8.0" vgap="8.0"
                              prefWrapLength="600.0"
                              alignment="TOP_LEFT">
                        <!-- I componenti verranno aggiunti dinamicamente qui -->
                    </FlowPane>

                </VBox>
            </ScrollPane>

            <!-- Info componenti -->
            <HBox spacing="20.0" alignment="CENTER_LEFT">
                <Label fx:id="componentsCountLabel"
                       text="Componenti: 0"
                       style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;">
                    <font>
                        <Font name="System Bold" size="16.0" />
                    </font>
                </Label>

                <Label text="Clicca per rivelare"
                       style="-fx-text-fill: #b0b0b0; -fx-font-size: 12px;" />
            </HBox>

        </VBox>

        <!-- Separatore verticale -->
        <Separator orientation="VERTICAL"
                   style="-fx-background-color: #444; -fx-opacity: 0.5;" />

        <!-- PANNELLO DESTRO: Nave del giocatore -->
        <VBox style="-fx-background-color: linear-gradient(to bottom, #2a1a1a, #3a2a2a); -fx-padding: 20;"
              spacing="15.0"
              HBox.hgrow="ALWAYS">

            <!-- Titolo sezione nave -->
            <Label text="La Tua Nave"
                   style="-fx-text-fill: #ff6b4a; -fx-font-size: 22px; -fx-font-weight: bold;">
                <font>
                    <Font name="System Bold" size="22.0" />
                </font>
            </Label>

            <!-- Container per la nave centrata -->
            <StackPane fx:id="shipContainer" alignment="CENTER"
                       VBox.vgrow="ALWAYS">

                <!-- Immagine di sfondo della nave (opzionale) -->
                <ImageView fx:id="shipImageView"
                           fitWidth="480.0"
                           fitHeight="480.0"
                           preserveRatio="true"
                           opacity="0.2">
                </ImageView>

                <!-- Griglia della nave (7x7) -->
                <GridPane fx:id="shipGrid"
                          alignment="CENTER"
                          hgap="2"
                          vgap="2"
                          style="-fx-background-color: rgba(0,0,0,0.3); -fx-border-color: #666; -fx-border-width: 2; -fx-border-radius: 10; -fx-padding: 10;"
                          prefWidth="500.0" prefHeight="500.0">
                </GridPane>

            </StackPane>

            <!-- Info nave e controlli -->
            <VBox spacing="10.0" alignment="CENTER">
                <Label text="Griglia: 7x7 - Trascina i componenti per posizionarli"
                       style="-fx-text-fill: #b0b0b0; -fx-font-size: 12px;" />

                <!-- Pulsanti di controllo -->
                <HBox spacing="15.0" alignment="CENTER">
                    <Button text="Termina Turno"
                            prefWidth="120.0" prefHeight="35.0"
                            style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8;">
                        <font>
                            <Font name="System Bold" size="12.0" />
                        </font>
                    </Button>

                    <Button text="Reset Nave"
                            prefWidth="120.0" prefHeight="35.0"
                            style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8;">
                        <font>
                            <Font name="System Bold" size="12.0" />
                        </font>
                    </Button>
                </HBox>
            </VBox>

        </VBox>

    </HBox>

    <!-- Barra di stato in basso -->
    <HBox spacing="20.0"
          alignment="CENTER_LEFT"
          style="-fx-background-color: rgba(0,0,0,0.8); -fx-padding: 8;"
          prefHeight="40.0"
          AnchorPane.bottomAnchor="0.0"
          AnchorPane.leftAnchor="0.0"
          AnchorPane.rightAnchor="0.0">

        <Label text="Galaxy Trucker - Fase Costruzione"
               style="-fx-text-fill: #4a9eff; -fx-font-size: 14px; -fx-font-weight: bold;" />

        <Region HBox.hgrow="ALWAYS" />

        <Label text="Stato: In attesa della tua mossa"
               style="-fx-text-fill: white; -fx-font-size: 12px;" />

        <Label text="Turno: 1"
               style="-fx-text-fill: #ffaa4a; -fx-font-size: 12px; -fx-font-weight: bold;" />
    </HBox>

</AnchorPane>