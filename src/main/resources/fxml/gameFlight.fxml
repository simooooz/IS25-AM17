<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.control.Separator?>

<AnchorPane
        fx:id="root"
        xmlns="http://javafx.com/javafx/11.0.1"
        xmlns:fx="http://javafx.com/fxml/1"
        fx:controller="it.polimi.ingsw.view.GUI.fxmlcontroller.FlightPhaseController"
>
    <!-- main container (three vertical sections) -->
    <HBox alignment="CENTER" spacing="10.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0"
          AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
        <padding>
            <Insets bottom="10.0" left="10.0" right="10.0" top="10.0"/>
        </padding>
        <!-- others players' ship -->
        <VBox fx:id="otherPlayersContainer" prefWidth="300.0" spacing="10.0"
              style="-fx-background-color: #2a1a4a; -fx-background-radius: 10;">
            <children>
                <Label text="Other Players"
                       style="-fx-text-fill: yellow; -fx-font-family: 'System Bold'; -fx-font-size: 25px;">
                </Label>

            </children>
            <padding>
                <Insets bottom="10.0" left="10.0" right="10.0" top="10.0"/>
            </padding>
        </VBox>

        <!-- central section with log events and action buttons -->
        <VBox prefWidth="550.0" spacing="10.0" style="-fx-background-color: #1a0d2e; -fx-background-radius: 10;">
            <padding>
                <Insets bottom="10.0" left="10.0" right="10.0" top="10.0"/>
            </padding>

            <!-- STATUS -->
            <VBox spacing="5.0">
                <Label text="Event's Log" textFill="WHITE">
                    <font>
                        <Font name="System Bold" size="14.0"/>
                    </font>
                </Label>
                <ScrollPane fx:id="statusScrollPane" maxHeight="80.0" minHeight="80.0" prefHeight="80.0"
                            style="-fx-background-color: #0d0520; -fx-border-color: #8a2be2; -fx-border-width: 2;">
                    <Label fx:id="logLabel" style="-fx-background-color: #0d0520; -fx-padding: 10;"
                           textFill="WHITE" wrapText="true">
                        <font>
                            <Font name="System" size="12.0"/>
                        </font>
                    </Label>
                </ScrollPane>
            </VBox>

            <VBox alignment="CENTER" spacing="10.0" VBox.vgrow="ALWAYS">

                <!-- INSTRUCTIONS -->
                <VBox fx:id="" prefHeight="179.0" prefWidth="532.0" spacing="8.0"
                      style="-fx-background-color: rgba(74, 144, 226, 0.15); -fx-background-radius: 8; -fx-border-color: #4A90E2; -fx-border-width: 1; -fx-border-radius: 8;">
                    <Label text="Game Status &amp; Instructions" textFill="WHITE">
                        <font>
                            <Font name="System Bold" size="14.0"/>
                        </font>
                    </Label>

                    <!-- main status -->
                    <Label fx:id="mainStatusLabel"
                           style="-fx-background-color: rgba(74, 144, 226, 0.2); -fx-background-radius: 5; -fx-padding: 8; -fx-border-color: #4A90E2; -fx-border-width: 1; -fx-border-radius: 5;"
                           textFill="#4A90E2" wrapText="true">
                        <font>
                            <Font name="System Bold" size="13.0"/>
                        </font>
                    </Label>

                    <Separator style="-fx-background-color: rgba(255, 255, 255, 0.3);"/>

                    <!-- detailed instructions -->
                    <ScrollPane maxHeight="90.0" minHeight="90.0" prefHeight="90.0"
                                style="-fx-background-color: transparent; -fx-border-color: transparent;">
                        <Label fx:id="instructionLabel"
                               style="-fx-background-color: transparent; -fx-padding: 5; -fx-line-spacing: 2;"
                               textFill="#CCCCCC" wrapText="true">
                            <font>
                                <Font name="System" size="11.0"/>
                            </font>
                        </Label>
                    </ScrollPane>
                </VBox>
                <padding>
                    <Insets bottom="10.0" left="10.0" right="10.0" top="10.0"/>
                </padding>
            </VBox>

            <VBox alignment="CENTER" prefWidth="550" prefHeight="100">
                            <Label fx:id="cardCounterLabel"
                                   text="Carte giocate: 0 / 10"
                                   style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: white;" />
            </VBox>

            <!-- Actual and previous card -->
            <HBox alignment="CENTER" prefWidth="550" spacing="10">
                <children>

                    <!-- Previous card -->
                    <VBox alignment="CENTER" prefHeight="412.0" prefWidth="250" spacing="10.0" VBox.vgrow="ALWAYS">
                                    <Label text="Previous card" textFill="WHITE">
                                        <font>
                                            <Font name="System Bold" size="16.0"/>
                                        </font>
                                    </Label>
                                    <ImageView fx:id="previousCardImage" fitHeight="226.0" fitWidth="235.0" layoutX="2.0" layoutY="2.0" pickOnBounds="true" preserveRatio="true" style="-fx-padding: 10"/>
                    </VBox>

                                <!-- Actual card -->
                    <VBox alignment="CENTER" prefHeight="412.0" prefWidth="250" spacing="10.0" VBox.vgrow="ALWAYS">
                                    <Label text="Actual card" textFill="WHITE">
                                        <font>
                                            <Font name="System Bold" size="16.0"/>
                                        </font>
                                    </Label>
                                    <ImageView fx:id="currentCardImage" fitHeight="226.0" fitWidth="235.0" layoutX="2.0" layoutY="2.0" pickOnBounds="true" preserveRatio="true" style="-fx-padding: 10"/>
                    </VBox>
                </children>

            </HBox>

            <!-- MAIN BUTTON -->
            <HBox alignment="CENTER" spacing="10">
                <Button fx:id="mainButton" alignment="CENTER" minWidth="320.0" mnemonicParsing="false"
                        prefHeight="12.0" prefWidth="320.0" styleClass="button"/>
            </HBox>

            <!-- SECONDARY BUTTONS -->
            <HBox alignment="CENTER" spacing="20.0">
                <Button fx:id="endFlightButton" mnemonicParsing="false" onMouseClicked="#endFlightHandler"
                        styleClass="button" text="End flight"/>
                <Button mnemonicParsing="false" onMouseClicked="#leaveGameHandler" styleClass="button-danger"
                        text="Leave game"/>
            </HBox>
        </VBox>

        <!-- your ship and board info -->
        <VBox prefWidth="500.0" spacing="10.0" style="-fx-background-color: #2a1a4a; -fx-background-radius: 10;">
            <!-- board info -->
            <VBox alignment="CENTER" spacing="5.0">
                <Label text="Board Info"
                       style="-fx-text-fill: yellow; -fx-font-family: 'System Bold'; -fx-font-size: 25px;">
                </Label>

                <HBox spacing="10.0">
                    <!-- Parte sinistra: Immagine -->
                    <VBox alignment="CENTER" prefWidth="240.0" spacing="5.0">
                        <children>
                            <!-- Container per l'immagine -->
                            <Pane maxHeight="200.0" maxWidth="220.0" minHeight="200.0" minWidth="220.0"
                                  style="-fx-background-color: #1a0d2e; -fx-background-radius: 5;">
                                <children>
                                    <ImageView fx:id="pointImage" fitHeight="190.0" fitWidth="210.0"
                                               layoutX="5.0" layoutY="5.0" pickOnBounds="true"
                                               preserveRatio="true"/>
                                </children>
                            </Pane>
                        </children>
                    </VBox>

                    <VBox alignment="CENTER" prefWidth="240.0" spacing="5.0">
                        <children>
                            <Label text="Players in game:"
                                   style="-fx-text-fill: yellow; -fx-font-family: 'System Bold'; -fx-font-size: 18px;">
                                <padding>
                                    <Insets bottom="5.0" top="10.0"/>
                                </padding>
                            </Label>

                            <Text fx:id="playersInGameLabel" styleClass="label" textAlignment="CENTER"
                                  wrappingWidth="220"/>

                            <Label text="Starting deck:"
                                   style="-fx-text-fill: yellow; -fx-font-family: 'System Bold'; -fx-font-size: 18px;">
                                <padding>
                                    <Insets bottom="5.0" top="10.0"/>
                                </padding>
                            </Label>

                            <Text fx:id="playersStartingDeckLabel" styleClass="label"
                                  textAlignment="CENTER" wrappingWidth="220"/>
                        </children>
                    </VBox>
                </HBox>
            </VBox>

            <!-- your ship -->
            <VBox alignment="CENTER">
                <Label text="Your Ship"
                       style="-fx-text-fill: yellow; -fx-font-family: 'System Bold'; -fx-font-size: 25px;">
                    <padding>
                        <Insets bottom="5.0" top="20.0"/>
                    </padding>
                </Label>

                <Pane maxHeight="400.0" maxWidth="450.0" minWidth="450.0" prefWidth="450.0">
                    <!-- ship image -->
                    <ImageView fx:id="playerShipImage" fitHeight="396.0" fitWidth="446.0" layoutX="2.0"
                               layoutY="2.0" pickOnBounds="true" preserveRatio="true"/>

                    <!-- player's tiles -->
                    <GridPane fx:id="shipGrid" layoutX="2.0" layoutY="2.0" prefHeight="396.0"
                              prefWidth="446.0"/>
                </Pane>

                <Label fx:id="errorLabel" text=""
                       styleClass="error-text">
                </Label>

                <HBox fx:id="indexBooleanButtonsContainer" alignment="CENTER" maxHeight="100.0"
                      maxWidth="410.0" minHeight="100.0" minWidth="410.0" visible="false"/>

                <!-- drag and drop objects container -->
                <FlowPane fx:id="flowPane" alignment="CENTER" hgap="10.0" maxHeight="100.0" maxWidth="410.0"
                          minHeight="100.0" minWidth="410.0" prefHeight="100.0" prefWidth="410.0"
                          style="-fx-background-color: #1a0d2e;" vgap="10.0" visible="false">
                    <padding>
                        <Insets bottom="10.0" left="10.0" right="10.0" top="10.0"/>
                    </padding>
                </FlowPane>
            </VBox>
        </VBox>
    </HBox>

</AnchorPane>
