<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.GridPane?>
<AnchorPane
        fx:id="root"
        xmlns="http://javafx.com/javafx/11.0.1"
        xmlns:fx="http://javafx.com/fxml/1"
        fx:controller="it.polimi.ingsw.view.GUI.fxmlcontroller.FlightPhaseController"
>
    <children>
        <!-- Contenitore principale diviso in tre parti verticali -->
        <HBox prefHeight="800.0" prefWidth="1280.0" spacing="10.0" alignment="CENTER" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
            <children>
                <!-- PARTE SINISTRA: Navi degli altri giocatori -->
                <VBox fx:id="otherPlayersContainer" prefWidth="350.0" spacing="10.0" style="-fx-background-color: #2a1a4a; -fx-background-radius: 10;">
                    <children>
                        <Label text="Altri Giocatori" textFill="WHITE">
                            <font>
                                <Font name="System Bold" size="16.0" />
                            </font>
                        </Label>

                    </children>
                    <padding>
                        <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                    </padding>
                </VBox>

                <!-- PARTE CENTRALE: Carta attuale e log -->
                <VBox prefWidth="450.0" spacing="15.0" style="-fx-background-color: #1a0d2e; -fx-background-radius: 10;">
                    <children>
                        <!-- Sezione Log -->
                        <VBox spacing="5.0">
                            <children>
                                <Label text="Log Eventi" textFill="WHITE">
                                    <font>
                                        <Font name="System Bold" size="14.0" />
                                    </font>
                                </Label>
                                <ListView fx:id="logListView" maxHeight="150.0" minHeight="150.0" prefHeight="150.0" style="-fx-background-color: #0d0520; -fx-border-color: #8a2be2; -fx-border-width: 2;">
                                </ListView>
                            </children>
                        </VBox>

                        <!-- Sezione Carta Attuale -->
                        <VBox alignment="CENTER" spacing="10.0" VBox.vgrow="ALWAYS">
                            <children>
                                <Label text="Carta Attuale" textFill="WHITE">
                                    <font>
                                        <Font name="System Bold" size="14.0" />
                                    </font>
                                </Label>

                                <!-- Container per la carta attuale -->
                                <ImageView fx:id="currentCardImage" fitHeight="226.0" fitWidth="176.0" layoutX="2.0" layoutY="2.0" pickOnBounds="true" preserveRatio="true" style="-fx-padding: 10" />

                                <!-- All cards -->
                                <Button mnemonicParsing="false" onAction="#viewPreviousCardsHandler" style="-fx-background-color: #8a2be2; -fx-text-fill: white; -fx-background-radius: 5;" text="View all cards">
                                    <font>
                                        <Font size="12.0" />
                                    </font>
                                </Button>

                                <VBox VBox.vgrow="ALWAYS" />

                            </children>
                        </VBox>


                        <!-- Prima riga: Un solo bottone centrato -->
                        <HBox alignment="CENTER" spacing="10.0">
                            <children>
                                <Button fx:id="mainButton"
                                    mnemonicParsing="false"
                                    minWidth="280.0" prefWidth="280.0"
                                    styleClass="button"
                                />
                            </children>
                        </HBox>

                        <!-- Seconda riga: Due bottoni centrati con spazio tra loro -->
                        <HBox alignment="CENTER" spacing="20.0">
                            <children>
                                <Button
                                    fx:id="endFlightButton"
                                    mnemonicParsing="false"
                                    styleClass="button"
                                    onMouseClicked="#endFlightHandler"
                                    text="End flight"
                                />
                                <Button
                                    mnemonicParsing="false"
                                    styleClass="button-danger"
                                    onMouseClicked="#leaveGameHandler"
                                    text="Leave game" />
                            </children>
                        </HBox>
                    </children>
                    <padding>
                        <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                    </padding>
                </VBox>

                <!-- PARTE DESTRA: Propria nave e board -->
                <VBox prefWidth="500.0" spacing="15.0" style="-fx-background-color: #2a1a4a; -fx-background-radius: 10;">
                    <children>
                        <!-- Sezione Board -->
                        <VBox alignment="CENTER" spacing="5.0">
                            <children>
                                <Label text="Board info" textFill="WHITE">
                                    <font>
                                        <Font name="System Bold" size="14.0" />
                                    </font>
                                </Label>

                                <Label text="Players in game:" textFill="WHITE">
                                    <font>
                                        <Font name="System Bold" size="14.0" />
                                    </font>
                                    <padding>
                                        <Insets bottom="5.0" top="20.0" />
                                    </padding>
                                </Label>

                                <Label fx:id="playersInGameLabel" wrapText="true">
                                    <font>
                                        <Font name="System" size="14.0" />
                                    </font>
                                </Label>

                                <Label text="Starting deck:" textFill="WHITE">
                                    <font>
                                        <Font name="System Bold" size="14.0" />
                                    </font>
                                    <padding>
                                        <Insets bottom="5.0" top="20.0" />
                                    </padding>
                                </Label>
                                <Label fx:id="playersStartingDeckLabel">
                                    <font>
                                        <Font name="System" size="14.0" />
                                    </font>
                                </Label>

                            </children>
                        </VBox>

                        <!-- Sezione Propria Nave -->
                        <VBox alignment="CENTER" spacing="5.0">
                            <children>
                                <Label text="Your ship" textFill="WHITE">
                                    <font>
                                        <Font name="System Bold" size="16.0" />
                                    </font>
                                    <padding>
                                        <Insets bottom="5.0" top="40.0" />
                                    </padding>
                                </Label>

                                <!-- Container per la propria nave (piÃ¹ grande) -->
                                <Pane fx:id="playerShipContainer" maxHeight="400.0" maxWidth="450.0" minHeight="400.0" minWidth="450.0" prefHeight="400.0" prefWidth="450.0">
                                    <children>
                                        <!-- Immagine della nave del giocatore -->
                                        <ImageView fx:id="playerShipImage" fitHeight="396.0" fitWidth="446.0" layoutX="2.0" layoutY="2.0" pickOnBounds="true" preserveRatio="true" />

                                        <!-- GridPane per i tasselli della nave del giocatore -->
                                        <GridPane fx:id="shipGrid"
                                          layoutX="2.0" layoutY="2.0"
                                          prefHeight="396.0" prefWidth="446.0"
                                        />
                                    </children>
                                </Pane>

                                <HBox
                                        fx:id="indexBooleanButtonsContainer"
                                        visible="false"
                                        maxHeight="100.0" maxWidth="450.0"
                                        minHeight="100.0" minWidth="450.0"
                                        alignment="CENTER">

                                </HBox>

                                <!-- Container per oggetti drag and drop -->
                                <FlowPane fx:id="flowPane"
                                          maxHeight="100.0" maxWidth="450.0"
                                          minHeight="100.0" minWidth="450.0"
                                          prefHeight="100.0" prefWidth="450.0"
                                          style="-fx-background-color: #1a0d2e;"
                                          visible="false"
                                          hgap="10.0" vgap="10.0" alignment="CENTER">
                                    <padding>
                                        <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                                    </padding>
                                </FlowPane>
                            </children>
                        </VBox>
                    </children>
                    <padding>
                        <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                    </padding>
                </VBox>
            </children>
            <padding>
                <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
            </padding>
        </HBox>

    </children>
</AnchorPane>